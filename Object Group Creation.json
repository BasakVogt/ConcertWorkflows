{"name":"Object Group Creation","platform":"node","hash":"+fFR337390dDxjcLsZmr4Th5oKlCe3EGyuGTCpdE/mI=","blocks":[{"action":"system/Common/Object/Object Keys","name":"Object_Groups","inputs":[{"name":"object","value":"$list"}]}, {"action":"system/SevOne/REST v2/Object Group/Find Object Group","name":"SevOne_Class","inputs":[{"name":"authKey","value":"$NMSCredentials"},{"name":"filterDto","value":"{\n    \"name\": $Object_Class,\n    \"parentIds\": [ 0 ]\n}"}]}, {"action":"foreach","name":"ForEach_Group","blocks":[{"action":"system/SevOne/REST v2/Object Group/Find Object Group","name":"SevOne_Find_Group","inputs":[{"name":"authKey","value":"$NMSCredentials"},{"name":"filterDto","value":"{\n    \"name\": $ForEach_Group.item,\n    \"parentIds\": [ $SevOne_Class.result.content[0].id ]\n}"}]},{"action":"system/Common/Array/ArraySize","name":"Groups_Found","inputs":[{"name":"array","value":"$SevOne_Find_Group.result.content"}]},{"action":"if","name":"If_Group_Found","then":[{"action":"assign","name":"Assign_groupid","variable":"$groupid","value":"$SevOne_Find_Group.result.content[0].id"}],"else":[{"action":"system/SevOne/REST v3/Object Groups/Object Groups Create Object Group","name":"SevOne_Create_Group","inputs":[{"name":"authKey","value":"$NMSCredentials"},{"name":"body","value":"{\n    \"name\": $ForEach_Group.item,\n    \"parentId\": $SevOne_Class.result.content[0].id\n}"}]},{"action":"assign","name":"Assign_groupid2","variable":"$groupid","value":"$SevOne_Create_Group.result.id"}],"condition":"$Groups_Found.result > 0"},{"action":"system/Common/Object/Object Keys","name":"Devices","inputs":[{"name":"object","value":"$list[$ForEach_Group.item]"}]},{"action":"foreach","name":"ForEach_Device","blocks":[{"action":"assign","name":"Assign_Interfaces","variable":"$interfaces","value":"$list[$ForEach_Group.item][$ForEach_Device.item]"},{"action":"system/SevOne/REST v3/Metadata/Metadata Devices (POST)","name":"SevOne_Find_Device","inputs":[{"name":"authKey","value":"$NMSCredentials"},{"name":"body","value":"{\n    \"name\": {\n        \"value\": $ForEach_Device.item\n    }\n}"}]},{"action":"foreach","name":"ForEach_Interface","blocks":[{"action":"system/SevOne/REST v3/Metadata/Metadata Objects (POST)","name":"SevOne_Find_Interface","inputs":[{"name":"authKey","value":"$NMSCredentials"},{"name":"body","value":"{\n    \"name\": {\n        \"value\": $ForEach_Interface.item\n    },\n    \"deviceIds\": [ $SevOne_Find_Device.result.devices[0].id ]\n}"}]},{"action":"system/SevOne/REST v3/Object Groups/Object Groups Add Object to Object Group","name":"SevOne_Add_Object","inputs":[{"name":"authKey","value":"$NMSCredentials"},{"name":"id","value":"$groupid"},{"name":"body","value":"{\n    \"deviceId\": $SevOne_Find_Device.result.devices[0].id,\n    \"objectId\": $SevOne_Find_Interface.result.objects[0].id\n}"}]}],"list":"$interfaces"}],"list":"$Devices.result"}],"list":"$Object_Groups.result"}, {"action":"assign","name":"Assign_1","variable":"$result","value":"\"Hello, World!\""}],"variables":[{"name":"result","required":false,"isInput":false,"isOutput":true,"level":"INTERMEDIATE","type":{"type":"any"},"value":"\"\""},{"name":"NMSCredentials","required":true,"isInput":true,"isOutput":false,"level":"INTERMEDIATE","type":{"type":"string"},"value":"\"admin/SevOne\""},{"name":"list","required":true,"isInput":true,"isOutput":false,"level":"INTERMEDIATE","type":{"type":"object"},"value":"{\n    \"Critical Interfaces\": {\n        \"CHI-EDGE01\": [\"GigabitEthernet1/1/0/0\", \"GigabitEthernet1/1/0/10\", \"TenGigE0/1/1/0\"],\n        \"SIN-EDGE01\": [\"GigabitEthernet1/1/0/0\", \"GigabitEthernet1/1/0/10\"],\n\n        \"SFO-EDGE01\": [\n            \"GigabitEthernet1/1/0/0\",\n            \"GigabitEthernet1/1/0/10\",\n            \"TenGigE0/1/1/0\",\n            \"TenGigE0/1/1/1\",\n            \"TenGigE0/1/1/2\"\n        ]\n    },\n    \"Internet Interfaces\": {\n        \"CHI-EDGE01\": [\"GigabitEthernet1/1/0/0\", \"GigabitEthernet1/1/0/10\"],\n        \"SIN-EDGE01\": [\"GigabitEthernet1/1/0/0\"],\n        \"SFO-EDGE01\": [\"GigabitEthernet1/1/0/0\", \"GigabitEthernet1/1/0/10\"],\n        \"NYC-EDGE01\": [\"GigabitEthernet1/1/0/0\"],\n        \"LON-EDGE01\": [\"ge-4/0/0\", \"ge-4/0/1\"]\n    }\n}"},{"name":"Object_Class","required":false,"isInput":false,"isOutput":false,"level":"INTERMEDIATE","type":{"type":"string"},"value":"\"Interface\""}],"meta":{"version":5,"layout":"flow","workerGroup":"default","created":1710246221730,"lastUpdated":1710247721588,"numberOfBlocks":10}}